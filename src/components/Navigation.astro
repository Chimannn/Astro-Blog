---
import { SITE_TITLE } from "../consts";
import "../styles/nav.css";
import multiavatar from '@multiavatar/multiavatar/esm'
const code = multiavatar(Math.random().toString(36).substring(2))
---

<nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="/" class="nav-title">{SITE_TITLE}</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="/archive" class="nav-item-content">ç›®å½•</a>
          </div>
          <div class="nav-item-wrapper">
            <a href="/about" class="nav-item-content">å…³äº</a>
          </div>
          <div class="nav-item-wrapper">
            <span class="navImg" id="chiman" set:html={code} onclick="magnify()">
              <span class="tips">è¿™æ˜¯æ‚¨çš„éšæœºå¤´åƒï¼Œæ¯æ¬¡è¿›å…¥éƒ½ä¼šé‡æ–°ç”Ÿæˆ...<br>å› ä¸ºæœ¬ç½‘ç«™è¿˜ä¸æ”¯æŒç™»å½•åŠŸèƒ½ :)<br>è¯·è§è°…å“ˆå“ˆå“ˆğŸ˜„ğŸ˜„ğŸ˜„<br>(æ”¯æŒç‚¹å‡»æ”¾å¤§)</span>
            </span>
            <!-- <a href="/rss.xml" class="nav-item-content" target="_blank">Login</a> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="modal" onclick="hidePopup()">
  <div class="popup" set:html={code}>
  </div>
</div>
<script is:inline>

function magnify(){
  	document.getElementsByClassName("modal")[0].setAttribute("style","display: flex")
	document.body.style.overflow = "hidden"
}

function hidePopup(){
  	document.getElementsByClassName("modal")[0].setAttribute("style","display: none")
	document.body.style.overflow = "auto"
}

document.getElementsByClassName("popup")[0].addEventListener("click", function(event) {
  	event.stopPropagation();
});
</script>
